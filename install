#!/bin/bash
# Lkcars Installer

installlkars()
{
  dir="/tmp/build"
  [ ! -d $dir ] && mkdir $dir
  cd $dir  || return 1
  url=https://raw.githubusercontent.com/Tearran/lkars/master
  wget -nv "$url/liblkars" -O $( basename "/liblkars" )
  ( sudo install -b -v liblkars /usr/lib/

  wget -nv "$url/lkars-config" -O $( basename "/lkars-config" )
  sudo install -b -v lkars-config /usr/bin/

  wget -nv https://github.com/Tearran/iic-scanner/raw/main/iic-scanner -O iic-scanner
  sudo install -b -v iic-scanner /usr/bin/

}

uninstall()
{

sudo rm -f  /usr/lib/liblkars
sudo rm -f  /usr/bin/lkars-config
sudo rm -f  /usr/bin/iic-scanner
echo "uninstall complete!"

}

dev()
{

echo
echo "TODO"
echo

}

vers()
{

   echo "LKARS Installer."
   echo
   echo "Software version: pre-Alpha."
   echo

}

help()
{

   echo "LKARS Installer."
   echo
   echo "Syntax:  [-h|-v|-i|-u]"
   echo "Options:"
   echo "-i     Install lkars-config"
   echo "-u     Uninstall lkars-config"
   echo "-h     Print this help."
   echo "-v     Print version info."

}

if [[ $# -eq 0 ]] ; then
    install
    exit 1
fi

while getopts ":hviud" opt; do
   case $opt in
      h) help break ;;
      v) vers break ;;
      i) installlkars break ;;
      u) uninstall break ;;
      ?) help break ;;
   esac
exit
done
